<odoo>

    <data>
        <record id="view_project_task_inherit_form" model="ir.ui.view">
            <field name="name">project.task.form.inherit</field>
            <field name="model">project.task</field>
            <field name="inherit_id" ref="project.view_task_form2"/>
            <field name="priority">100</field>
            <field name="arch" type="xml">
                <xpath expr="//div[@name='button_box']" position="inside">
                    <field name="customer_invoice_count" invisible="1"/>
                    <field name="vendor_bill_count" invisible="1"/>3
                    <button name="action_view_customer_invoices"
                            type="object"
                            class="oe_stat_button"
                            icon="fa-file-text-o"
                            invisible="not customer_invoice_count">
                        <field string="Invoices" name="customer_invoice_count" widget="statinfo"/>
                    </button>

                    <!-- Smart Button for Vendor Bills -->
                    <button name="action_view_vendor_bills"
                            type="object"
                            class="oe_stat_button"
                            icon="fa-file-text-o"
                            invisible="not vendor_bill_count">
                        <field string="Bills" name="vendor_bill_count" widget="statinfo"/>
                    </button>
                </xpath>
                <xpath expr="//button[@name='action_open_parent_task']" position="after">
                    <button name="action_view_bookings" type="object" class="oe_stat_button" icon="fa-pencil-square-o"
                            invisible="sale_count == 0">
                        <field widget="statinfo" name="sale_count" string="Bookings"/>
                    </button>
                </xpath>
                <!--            <xpath expr="//field[@name='name']" position="attributes">-->
                <!--                <attribute name="readonly">True</attribute>-->
                <!--            </xpath>-->
                <xpath expr="//field[@widget='project_task_state_selection']" position="replace">
                    <field name="state_selectable" widget="state_selection"/>
                </xpath>
                <!-- <xpath expr="//div[@class='oe_title pe-0']/h1" position="replace">
                        <h1 class="d-flex justify-content-between align-items-center">
                            <div class="d-flex w-100">
                                <field name="priority" widget="priority_switch" class="me-3"/>
                                <field name="name" options="{'line_breaks': False}" widget="text" class="o_task_name text-truncate w-md-75 w-100 pe-2" placeholder="Task Title..."/>
                            </div>
                            <div class="d-flex justify-content-end o_state_container" invisible="not active">
                                <field name="state" widget="project_task_state_selection" class="o_task_state_widget"/>
                            </div>
                            <div class="d-flex justify-content-start o_state_container w-100 w-md-50 w-lg-25" invisible="active">
                                <field name="state" widget="project_task_state_selection" class="o_task_state_widget"/>
                            </div>
                        </h1>
                    </xpath> -->
                <!-- <xpath expr="//div[@class='o_task_state_widget']/.." position="replace">
                    <div class="d-flex justify-content-end o_state_container" invisible="not active">
                        <field name="state" widget="project_task_state_selection" class="o_task_state_widget"/>
                    </div>
                </xpath>
                <xpath expr="//div[@class='o_task_state_widget']/.." position="replace">
                    <div class="d-flex justify-content-start o_state_container" invisible="active">
                        <field name="state" widget="project_task_state_selection" class="o_task_state_widget"/>
                    </div>
                </xpath> -->
                <xpath expr="//form[1]" position="attributes">
                    <attribute name="create">false</attribute>
                    <attribute name="delete">false</attribute>
                </xpath>

                <xpath expr="//field[@name='user_ids']" position="attributes">
                    <attribute name="string">Opt. Executors</attribute>
                    <attribute name="readonly">stage_id == 3</attribute>
                </xpath>
                <xpath expr="//field[@name='stage_id']" position="attributes">
                    <attribute name="options">{}</attribute>
                </xpath>
                <xpath expr="//form[1]/sheet[1]/group[1]/group[1]/field[@name='user_ids']" position="attributes">
                    <attribute name="options">{'no_open': True,'no_create': True, 'no_create_edit': True, 'no_quick_create': True}</attribute>
                </xpath>
                <xpath expr="//form[1]/sheet[1]/group[1]/group[2]/field[@name='partner_id']" position="attributes">
                    <attribute name="force_save">1</attribute>
                    <attribute name="readonly">True</attribute>
                </xpath>
                <xpath expr="//form[1]/sheet[1]/div[not(@name)][1]/h1[1]/div[1]/field[@name='name']"
                       position="attributes">
                    <attribute name="force_save">1</attribute>
                    <attribute name="readonly">True</attribute>
                </xpath>

                <xpath expr="//form[1]/sheet[1]/group[1]/group[1]/field[@name='milestone_id']" position="attributes">
                    <attribute name="invisible">True</attribute>
                </xpath>

                <xpath expr="//form[1]/sheet[1]/group[1]/group[1]/field[@name='project_id']" position="attributes">
                    <attribute name="invisible">True</attribute>
                </xpath>
                <xpath expr="//form[1]/sheet[1]/group[1]/group[2]/field[@name='sale_line_id'][2]" position="attributes">
                    <attribute name="options">{'no_open': True,'no_create': True, 'no_create_edit': True, 'no_quick_create': True}</attribute>
                    <attribute name="string">Booking Item</attribute>
                    <attribute name="readonly">stage_id == 3</attribute>
                </xpath>
                <xpath expr="//form[1]/sheet[1]/group[1]/group[2]/label[1]" position="attributes">
                    <attribute name="string">Expected Arrival</attribute>
                </xpath>
                <xpath expr="//form[1]/sheet[1]/group[1]/group[1]/field[@name='tag_ids']" position="attributes">
                    <attribute name="options">{"color_field": "color", "no_create_edit": true, "no_create": true}
                    </attribute>
                </xpath>
                <xpath expr="//field[@name='tag_ids']" position="after">
                    <field name="transport_type_id" readonly="stage_id == 3" required="True"
                           options="{'no_open': True,'no_create': True, 'no_create_edit': True, 'no_quick_create': True}"/>
                    <field name="clearence_type_id" readonly="stage_id == 3" required="True"
                           options="{'no_open': True,'no_create': True, 'no_create_edit': True, 'no_quick_create': True}"/>
                    <field name="should_set_date_closing" invisible="1"/>
                    <field name="state_selectable" invisible="1"/>
                    <field name="show_packages" invisible="1"/>
                    <field name="show_transportation" invisible="1"/>
                    <field name="show_transportation_inland" invisible="1"/>
                    <field name="show_bill_leading_details" invisible="1"/>
                    <field name="show_acid_details" invisible="1"/>
                    <field name="show_containers" invisible="1"/>
                    <field name="house_bl_seq_hide" invisible="1"/>
                    <field name="consolidation_seq_hide" invisible="1"/>
                    <field name="expecting_date_closing" readonly="stage_id == 3"
                           invisible="not should_set_date_closing" required="should_set_date_closing"/>
                </xpath>
                <xpath expr="//field[@name='partner_id']" position="after">
                    <field name="customer_ref" options="{'line_breaks': False}"/>
                    <field name="dyn_filter_par" invisible="1"/>
                    <!-- <field name="shipment_scope_id"
                            domain="dyn_filter_par"
                            string="Shipment Scope"
                            invisible="transport_type_id in (1) or transport_type_id not in (2, 3)"
                            options="{'no_open': True, 'no_create': True}"/> -->
                </xpath>

                <xpath expr="//form[1]/sheet[1]/group[1]" position="after">
                    <group string="SHIPMENT DETAILS">
                        <group>
                            <field name="shipment_scope_id"
                                   domain="dyn_filter_par" string="Shipment Scope" readonly="stage_id == 3"
                                   invisible="transport_type_id in (1) or transport_type_id not in (2, 3)"
                                   options="{'no_open': True,'no_create': True, 'no_create_edit': True, 'no_quick_create': True}"/>
                            <field name="master_bl" options="{'line_breaks': False}" readonly="stage_id == 3"/>
                            <field name="commodity_id" readonly="stage_id == 3" options="{'no_open': True,'no_create': True, 'no_create_edit': True, 'no_quick_create': True}"/>
                            <field name="commodity_equip" readonly="stage_id == 3"/>
                            <field name="temperature" invisible="commodity_equip != 'reefer'" readonly="stage_id == 3"/>
                            <field name="un_number" invisible="commodity_equip != 'imo'" readonly="stage_id == 3"/>
                            <field name="attach_id" invisible="commodity_equip != 'imo'" readonly="stage_id == 3"/>
                        </group>
                        <group>
                            <field name="port_id" options="{'no_open': True,'no_create': True, 'no_create_edit': True, 'no_quick_create': True}"
                                   readonly="stage_id == 3"/>
                            <field name="port_id_pod" options="{'no_open': True,'no_create': True, 'no_create_edit': True, 'no_quick_create': True}"
                                   readonly="stage_id == 3"/>
                            <field name="incoterm_id" options="{'no_open': True,'no_create': True, 'no_create_edit': True, 'no_quick_create': True}"
                                   readonly="stage_id == 3"/>
                            <field name="services" widget="many2many_tags"
                                   options="{'no_create_edit': True, 'no_quick_create': True}"
                                   readonly="stage_id == 3"/>
                        </group>
                    </group>
                </xpath>

                <xpath expr="//page[@name='extra_info']" position="attributes">
                    <attribute name="invisible">True</attribute>
                </xpath>

                <!-- Start Form Readonly for CLosed Stage -->
                <xpath expr="//form[1]/sheet[1]/group[1]/group[1]/field[@name='tag_ids']" position="attributes">
                    <attribute name="force_save">1</attribute>
                    <attribute name="readonly">stage_id == 3</attribute>
                </xpath>
                <xpath expr="//form[1]/sheet[1]/group[1]/group[2]/div[1]/field[@name='date_deadline']"
                       position="attributes">
                    <attribute name="force_save">1</attribute>
                    <attribute name="readonly">stage_id == 3</attribute>
                </xpath>
                <xpath expr="//field[@name='customer_ref']" position="attributes">
                    <attribute name="force_save">1</attribute>
                    <attribute name="readonly">stage_id == 3</attribute>
                </xpath>
                <xpath expr="//field[@name='master_bl']" position="attributes">
                    <attribute name="force_save">1</attribute>
                    <attribute name="readonly">stage_id == 3</attribute>
                </xpath>
                <xpath expr="//field[@name='commodity_equip']" position="attributes">
                    <attribute name="force_save">1</attribute>
                    <attribute name="readonly">stage_id == 3</attribute>
                </xpath>
                <xpath expr="//form[1]/sheet[1]/group[2]/group[2]/field[@name='port_id']" position="attributes">
                    <attribute name="force_save">1</attribute>
                    <attribute name="readonly">stage_id == 3</attribute>
                </xpath>
                <xpath expr="//field[@name='port_id_pod']" position="attributes">
                    <attribute name="force_save">1</attribute>
                    <attribute name="readonly">stage_id == 3</attribute>
                </xpath>
                <xpath expr="//form[1]/sheet[1]/group[2]/group[2]/field[@name='incoterm_id']" position="attributes">
                    <attribute name="force_save">1</attribute>
                    <attribute name="readonly">stage_id == 3</attribute>
                </xpath>
                <xpath expr="//field[@name='services']" position="attributes">
                    <attribute name="force_save">1</attribute>
                    <attribute name="readonly">stage_id == 3</attribute>
                </xpath>

                <xpath expr="//page[@name='sub_tasks_page']" position="attributes">
                    <attribute name="invisible">True</attribute>
                </xpath>

                <xpath expr="//page[@name='description_page']" position="attributes">
                    <attribute name="invisible">True</attribute>
                </xpath>

                <xpath expr="//page[@name='description_page']" position="after">
                    <page string="Bill of Lading">
                        <group>
                            <group string="Dates and Transit Time">
                                <field name="atd" readonly="stage_id == 3"/>
                                <field name="ata" readonly="stage_id == 3"/>
                                <label for="transit_time" class="oe_inline" string="Transit Time"/>
                                <div class="o_row">
                                    <field name="transit_time" readonly="stage_id == 3"/>
                                    <span class="oe_inline">Days</span>
                                </div>
                                <label for="free_time" class="oe_inline" string="Free Time"/>
                                <div class="o_row">
                                    <field name="free_time" readonly="stage_id == 3"/>
                                    <span class="oe_inline">Days</span>
                                </div>
                                <field name="bill_of_lading_issuance" readonly="stage_id == 3"/>
                            </group>
                            <group string="Locations">
                                <field name="terminal_port_id" readonly="stage_id == 3"/>
                                <field name="pickup_address" readonly="stage_id == 3"/>
                                <field name="delivery_address" readonly="stage_id == 3"/>
                            </group>
                        </group>
                        <group string="Transportations" invisible="not show_transportation">
                            <group>
                                <field name="bill_lading_type_id" readonly="stage_id == 3"/>
                                <field name="bill_lading_collection" widget="radio" readonly="stage_id == 3"/>
                                <field name="delivery_order_no" readonly="stage_id == 3"/>
                                <field name="is_house_bl" readonly="stage_id == 3"/>
                            </group>
                            <group>
                                <field name="plane_name" readonly="stage_id == 3"/>
                                <field name="flight_no" readonly="stage_id == 3"/>
                                <field name="booking_no" readonly="stage_id == 3"/>
                            </group>
                        </group>
                        <group string="Transportations" invisible="not show_transportation_inland">
                            <group>
                                <field name="bill_lading_type_id" readonly="stage_id == 3"/>
                                <field name="bill_lading_collection" widget="radio" readonly="stage_id == 3"/>
                                <field name="delivery_order_no" readonly="stage_id == 3"/>
                            </group>
                            <group>
                                <field name="truck_no" readonly="stage_id == 3"/>
                            </group>
                        </group>
                        <group string="Bill Of Lading Details" invisible="not show_bill_leading_details">
                            <group>
                                <field name="bill_lading_type_id" readonly="stage_id == 3"/>
                                <field name="bill_lading_collection" widget="radio" readonly="stage_id == 3"/>
                                <field name="delivery_order_no" readonly="stage_id == 3"/>
                                <field name="house_bl_seq" readonly="1" invisible="not house_bl_seq_hide"/>
                                <field name="consolidation_seq" readonly="1" invisible="not consolidation_seq_hide"/>
                                <div class="col-3" style="font-weight: bold;">
                                    <b>
                                        <label for="is_house_bl" style="font-weight: bold;" string="House B/L"
                                               invisible="not show_containers or house_bl_seq_hide"/>
                                        <label for="is_consolidation" style="font-weight: bold;"
                                               string="Consolidation"
                                               invisible="not show_containers or consolidation_seq_hide"/>
                                    </b>
                                </div>
                                <div width="100%">
                                    <field name="is_house_bl" readonly="stage_id == 3"
                                           invisible="not show_containers or house_bl_seq_hide"/>
                                    <button name="generate_house_bl_seq" type="object" string="House B/L"
                                            invisible="not show_containers or not is_house_bl or house_bl_seq_hide"
                                            class="btn-secondary"/>
                                    <br/>
                                    <field name="is_consolidation" readonly="stage_id == 3"
                                           invisible="not show_containers or consolidation_seq_hide"/>
                                    <br/>
                                    <button name="generate_consolidation_seq" type="object"
                                            string="Consolidation"
                                            invisible="not show_containers or not is_consolidation or consolidation_seq_hide"
                                            class="btn-secondary"/>
                                </div>
                            </group>
                            <group>
                                <field name="terminal_port_warehouse_id" readonly="stage_id == 3"/>
                                <field name="vessel_id" readonly="stage_id == 3"
                                       options="{'no_open': True,'no_create': True, 'no_create_edit': True, 'no_quick_create': True}"/>
                                <field name="voyage_no" readonly="stage_id == 3"/>
                                <field name="booking_no" readonly="stage_id == 3"/>
                            </group>
                        </group>
                        <group string="ACID Details" invisible="not show_acid_details">
                            <group>

                                <field name="acid_no" readonly="stage_id == 3"/>
                                <field name="acid_issuance_date" readonly="stage_id == 3"/>
                                <field name="foreign_exporter_id" readonly="stage_id == 3"/>
                            </group>
                            <group>
                                <field name="foreign_exporter_country_id" readonly="stage_id == 3"
                                       options="{'no_open': True,'no_create': True, 'no_create_edit': True, 'no_quick_create': True}"/>
                                <field name="acid_expiry_date" readonly="stage_id == 3"/>
                            </group>
                        </group>

                    </page>
                    <page string="Partners">
                        <field name="opt_partners_lines" readonly="stage_id == 3">
                            <tree editable="bottom">
                                <field name="partner_type_id"
                                       options="{'no_open': True,'no_create': True, 'no_create_edit': True, 'no_quick_create': True}"/>
                                <field name="partner_id"
                                       options="{'no_open': True,'no_create': True, 'no_create_edit': True, 'no_quick_create': True}"/>
                                <field name="phone"/>
                                <field name="email"/>
                                <field name="sales_person"/>
                                <!-- <field name="activity_ids" optional="show" widget="list_activity"/> -->
                                <field name="country_id"/>
                            </tree>
                        </field>
                    </page>
                    <page string="Containers"
                          invisible="not show_containers">
                        <field name="shipping_container_ids" readonly="stage_id == 3">
                            <kanban>
                                <field name="container_id"/>
                                <field name="container_type_id"/>
                                <field name="container_is"/>
                                <field name="tare_weight"/>
                                <field name="gross_weight"/>
                                <templates>
                                    <t t-name="kanban-box">
                                        <div t-attf-class="oe_kanban_global_click">
                                            <table>
                                                <tr>
                                                    <td>
                                                        <strong>Container No:</strong>
                                                    </td>
                                                    <td>
                                                        <field name="name"/>
                                                    </td>
                                                    <td>
                                                        <strong>Container:</strong>
                                                    </td>
                                                    <td width="25%">
                                                        <field name="container_type_id"/>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>
                                                        <strong>VGM:</strong>
                                                    </td>
                                                    <td>
                                                        <field name="vkm"/>
                                                    </td>

                                                    <td>
                                                        <strong>CBM:</strong>
                                                    </td>
                                                    <td>
                                                        <field name="vol_cbm"/>
                                                    </td>
                                                </tr>
                                            </table>
                                        </div>
                                    </t>
                                </templates>
                            </kanban>
                            <form>
                                <sheet>
                                    <group>
                                        <group>
                                            <field name="name" required="True"/>
                                        </group>
                                        <group>
                                            <field name="container_type_id" required="1"
                                                   options="{'no_open': True,'no_create': True, 'no_create_edit': True, 'no_quick_create': True}"/>
                                            <field name="container_is"/>
                                            <!-- <field name="tare_weight"/>
                                            <field name="net_wt" string="Net"/>
                                            <field name="vol_cbm" string="CBM"/>
                                            <field name="gross_weight" string="Gross"/>
                                            <field name="vkm" string="VGM"/> -->
                                            <field name="temperature" invisible="container_is != 'reefer'"
                                                   options="{'no_open': True,'no_create': True, 'no_create_edit': True, 'no_quick_create': True}"/>
                                            <!-- <field name="un_number" invisible="container_type not in ('dry')"/> -->
                                        </group>
                                    </group>
                                    <group>
                                        <group>
                                            <!-- <field name="description" /> -->
                                            <field name="carrier_seal" options="{'line_breaks': False}"/>
                                        </group>
                                        <group>
                                            <!-- <field name="carrier_seal"/> -->
                                        </group>
                                    </group>
                                    <!-- <h4>VOL WEIGHT (Kg)</h4> -->
                                    <div class="row">
                                        <div class="col-2">
                                            <label for="net_wt" string="Net Weight (KG)"/>
                                            <field name="net_wt"/>
                                        </div>
                                        <div class="col-2">
                                            <label for="gross_weight" string="GrossÂ Weight (KG)"/>
                                            <field name="gross_weight"/>
                                        </div>
                                        <div class="col-2">
                                            <label for="tare_weight" string="Tare Weight (KG)"/>
                                            <field name="tare_weight"/>
                                        </div>
                                        <div class="col-2">
                                            <label for="vkm" string="VGM"/>
                                            <field name="vkm"/>
                                        </div>
                                        <div class="col-2">
                                            <label for="vol_cbm" string="CBM"/>
                                            <field name="vol_cbm"/>
                                        </div>
                                    </div>
                                    <group>
                                        <group>
                                            <field name="loading_instruction" string="Notes"/>
                                        </group>
                                    </group>
                                    <notebook>
                                        <page string="Container Details">
                                            <field name="package_line_ids">
                                                <tree editable="bottom">
                                                    <field name="commodity_data_id"
                                                           options="{'no_open': True,'no_create': True, 'no_create_edit': True, 'no_quick_create': True}"/>
                                                    <field name="package_type_id"
                                                           options="{'no_open': True,'no_create': True, 'no_create_edit': True, 'no_quick_create': True}"/>
                                                    <field name="quantity" string="Qty"/>
                                                    <field name="gw"/>
                                                    <field name="cbm"/>
                                                </tree>
                                            </field>

                                        </page>
                                        <!-- <page string="Loading Instruction">
                                            <field name="loading_instruction"/>
                                        </page> -->
                                    </notebook>

                                </sheet>

                            </form>
                        </field>
                    </page>
                    <page string="Packages"
                          invisible="not show_packages">
                        <field name="shipping_package_ids" string="Package" readonly="stage_id == 3">
                            <kanban>
                                <field name="package_type_id"/>
                                <field name="commodity_id"/>
                                <field name="quantity"/>
                                <field name="volume"/>
                                <field name="net_wight"/>
                                <field name="gross_weight"/>
                                <field name="length"/>
                                <field name="width"/>
                                <field name="height"/>
                                <field name="imo"/>
                                <field name="un_number"/>
                                <field name="chw"/>
                                <templates>
                                    <t t-name="kanban-box">
                                        <div t-attf-class="oe_kanban_global_click">
                                            <table width="100%">
                                                <tr width="100%">
                                                    <td width="25%">
                                                        <strong>Package:</strong>
                                                    </td>
                                                    <td width="75%">
                                                        <field name="package_type_id"/>
                                                    </td>
                                                </tr>
                                                <tr width="100%">
                                                    <td>
                                                        <strong>Commodity:</strong>
                                                    </td>
                                                    <td>
                                                        <field name="commodity_id"/>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>
                                                        <strong>Qty:</strong>
                                                    </td>
                                                    <td>
                                                        <field name="quantity"/>
                                                    </td>
                                                    <td>
                                                        <strong>CBM:</strong>
                                                    </td>
                                                    <td>
                                                        <field name="volume"/>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>
                                                        <strong>Net KG:</strong>
                                                    </td>
                                                    <td>
                                                        <field name="net_wight"/>
                                                    </td>
                                                    <td>
                                                        <strong>Gross KG:</strong>
                                                    </td>
                                                    <td>
                                                        <field name="gross_weight"/>
                                                    </td>
                                                </tr>
                                                <tr invisible="parent.transport_type_id != 1">
                                                    <td>
                                                        <strong>CHW:</strong>
                                                    </td>
                                                    <td>
                                                        <field name="chw"/>
                                                    </td>
                                                </tr>
                                            </table>
                                        </div>
                                    </t>
                                </templates>

                            </kanban>
                            <form>
                                <sheet>
                                    <group>
                                        <group>
                                            <field name="package_type_id" required="True"
                                                   options="{'no_open': True,'no_create': True, 'no_create_edit': True, 'no_quick_create': True}"/>
                                            <field name="commodity_id"
                                                   options="{'no_open': True,'no_create': True, 'no_create_edit': True, 'no_quick_create': True}"/>
                                            <field name="quantity" string="Qty"/>
                                            <field name="imo" invisible="1"/>
                                            <field name="ref" invisible="1"/>
                                            <field name="temperature" invisible="1"/>
                                            <field name="un_number" widget="many2many_binary" invisible="1"/>
                                        </group>
                                        <group>
                                            <field name="length"/>
                                            <field name="width"/>
                                            <field name="height"/>
                                            <field name="volume"/>
                                            <field name="volume_wt" invisible="1"/>
                                            <field name="chw" invisible="parent.transport_type_id != 1"/>
                                            <field name="net_wight"/>
                                            <field name="gross_weight"/>
                                        </group>

                                    </group>
                                </sheet>
                            </form>
                        </field>

                    </page>
                    <page string="Routing">
                        <style>
                            .btn-secondar {
                            color: #374151;
                            background-color: #e7e9ed;
                            border-color: #e7e9ed;
                            box-shadow: 0;
                            margin: 10px;
                            }
                        </style>
                        <field name="routing_types" widget="selection_badge" invisible="1"/>
                        <div>

                            <button name="origin_routing" type="object" string="Origin Route" invisible="stage_id == 3"
                                    class="btn-secondary"/>
                            <button name="transit_routing" type="object" string="Transit Route"
                                    invisible="stage_id == 3" class="btn-secondary"/>
                            <button name="dest_routing" type="object" string="Destination Route"
                                    invisible="stage_id == 3" class="btn-secondary"/>

                        </div>
                        <field name="origin_route" readonly="stage_id == 3">
                            <kanban>
                                <field name="port_id"/>
                                <field name="transport_type_id"/>
                                <field name="port_id_origin"/>
                                <templates>
                                    <t t-name="kanban-box">
                                        <div t-attf-class="oe_kanban_global_click">
                                            <table>
                                                <tr>
                                                    <td>
                                                        <strong>Place of Loading:</strong>
                                                    </td>
                                                    <td width="25%">
                                                        <field name="port_id"/>
                                                    </td>
                                                    <td>
                                                        <strong>Transport Type:</strong>
                                                    </td>
                                                    <td>
                                                        <field name="transport_type_id"/>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>
                                                        <strong>Origin Port:</strong>
                                                    </td>
                                                    <td>
                                                        <field name="port_id_origin"/>
                                                    </td>
                                                </tr>
                                            </table>
                                        </div>
                                    </t>
                                </templates>
                            </kanban>
                            <form>
                                <sheet>
                                    <group>
                                        <group>
                                            <field name="port_id" widget="selection"/>
                                            <field name="expected_date" invisible="loaded == True"/>
                                            <field name="actual_date" invisible="loaded == False"/>
                                            <field name="transport_type_id" invisible="1"/>
                                        </group>
                                        <group>
                                            <field name="port_id_origin" widget="selection"/>
                                            <field name="date_start" string="Add ETD" widget="daterange"
                                                   options="{&quot;end_date_field&quot;: &quot;date&quot;, &quot;always_range&quot;: &quot;1&quot;}"
                                                   invisible="loaded == True"/>
                                            <field name="actual_date_start" string="Add ATD" widget="daterange"
                                                   options="{&quot;end_date_field&quot;: &quot;date&quot;, &quot;always_range&quot;: &quot;1&quot;}"
                                                   invisible="loaded == False"/>
                                            <field name="loaded" widget="boolean_toggle" invisible="loaded == True"/>
                                            <field name="loaded" widget="boolean_toggle" string="Loaded Done"
                                                   invisible="loaded == False"/>
                                        </group>
                                        <group>
                                            <field name="pickup_address"/>
                                            <field name="routing_types" invisible="1"/>
                                        </group>
                                    </group>
                                    <notebook>
                                        <page string="Services">
                                            <field name="origin_services_ids">
                                                <tree editable="bottom">
                                                    <field name="service_scope_id" widget="selection"/>
                                                    <field name="description"/>
                                                </tree>
                                            </field>
                                        </page>
                                    </notebook>
                                </sheet>

                            </form>
                        </field>
                        <field name="transit_route" readonly="stage_id == 3">
                            <kanban>
                                <field name="transport_type_id"/>
                                <field name="port_id"/>
                                <field name="port_id_origin"/>
                                <templates>
                                    <t t-name="kanban-box">
                                        <div t-attf-class="oe_kanban_global_click">
                                            <table>
                                                <tr>
                                                    <td>
                                                        <strong>Transport Type:</strong>
                                                    </td>
                                                    <td width="25%">
                                                        <field name="transport_type_id"/>
                                                    </td>
                                                    <td>
                                                        <strong>Origin Port:</strong>
                                                    </td>
                                                    <td>
                                                        <field name="port_id"/>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>
                                                        <strong>Transit Port:</strong>
                                                    </td>
                                                    <td>
                                                        <field name="port_id_origin"/>
                                                    </td>
                                                </tr>
                                            </table>
                                        </div>
                                    </t>
                                </templates>
                            </kanban>
                            <form>
                                <sheet>
                                    <group>
                                        <group>
                                            <field name="port_id" widget="selection"/>
                                            <field name="expected_date" invisible="loaded == True"/>
                                            <field name="actual_date" invisible="loaded == False"/>
                                            <field name="transport_type_id" invisible="1"/>
                                        </group>
                                        <group>
                                            <field name="port_id_origin" widget="selection"/>
                                            <field name="date_start" string="Add ETD" widget="daterange"
                                                   options="{&quot;end_date_field&quot;: &quot;date&quot;, &quot;always_range&quot;: &quot;1&quot;}"
                                                   invisible="loaded == True"/>
                                            <field name="actual_date_start" string="Add ATD" widget="daterange"
                                                   options="{&quot;end_date_field&quot;: &quot;date&quot;, &quot;always_range&quot;: &quot;1&quot;}"
                                                   invisible="loaded == False"/>
                                            <field name="loaded" widget="boolean_toggle" invisible="loaded == True"/>
                                            <field name="loaded" widget="boolean_toggle" string="Loaded Done"
                                                   invisible="loaded == False"/>
                                        </group>
                                        <group>
                                            <field name="routing_types" invisible="1"/>
                                        </group>
                                    </group>
                                    <notebook>
                                        <page string="Services">
                                            <field name="origin_services_ids">
                                                <tree editable="bottom">
                                                    <field name="service_scope_id" widget="selection"/>
                                                    <field name="description"/>
                                                </tree>
                                            </field>
                                        </page>
                                    </notebook>
                                </sheet>

                            </form>
                        </field>
                        <field name="deatination_route" readonly="stage_id == 3">
                            <kanban>
                                <field name="transport_type_id"/>
                                <field name="port_id"/>
                                <field name="port_id_origin"/>
                                <field name="port_id_destination"/>
                                <templates>
                                    <t t-name="kanban-box">
                                        <div t-attf-class="oe_kanban_global_click">
                                            <table>
                                                <tr>
                                                    <td>
                                                        <strong>Transport Type:</strong>
                                                    </td>
                                                    <td width="25%">
                                                        <field name="transport_type_id"/>
                                                    </td>
                                                    <td>
                                                        <strong>Transit Port:</strong>
                                                    </td>
                                                    <td>
                                                        <field name="port_id"/>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>
                                                        <strong>Origin Port:</strong>
                                                    </td>
                                                    <td>
                                                        <field name="port_id_origin"/>
                                                    </td>

                                                    <td>
                                                        <strong>Destination Port:</strong>
                                                    </td>
                                                    <td>
                                                        <field name="port_id_destination"/>
                                                    </td>
                                                </tr>
                                            </table>
                                        </div>
                                    </t>
                                </templates>
                            </kanban>
                            <form>
                                <sheet>
                                    <group>
                                        <group>
                                            <field name="port_id" widget="selection"/>
                                            <field name="port_id_destination" widget="selection"/>
                                            <field name="expected_date" invisible="loaded == True"/>
                                            <field name="actual_date" invisible="loaded == False"/>
                                            <field name="transport_type_id" invisible="1"/>
                                        </group>
                                        <group>
                                            <field name="port_id_origin" widget="selection"/>
                                            <field name="date_start" string="Add ETD" widget="daterange"
                                                   options="{&quot;end_date_field&quot;: &quot;date&quot;, &quot;always_range&quot;: &quot;1&quot;}"
                                                   invisible="loaded == True"/>
                                            <field name="actual_date_start" string="Add ATD" widget="daterange"
                                                   options="{&quot;end_date_field&quot;: &quot;date&quot;, &quot;always_range&quot;: &quot;1&quot;}"
                                                   invisible="loaded == False"/>
                                            <field name="loaded" widget="boolean_toggle" invisible="loaded == True"/>
                                            <field name="loaded" widget="boolean_toggle" string="Loaded Done"
                                                   invisible="loaded == False"/>
                                        </group>
                                        <group>
                                            <field name="pickup_address"/>
                                            <field name="routing_types" invisible="1"/>
                                            <field name="task_id" invisible="1"/>
                                        </group>
                                    </group>
                                    <notebook>
                                        <page string="Services">
                                            <field name="origin_services_ids">
                                                <tree editable="bottom">
                                                    <field name="service_scope_id" widget="selection"/>
                                                    <field name="description"/>
                                                </tree>
                                            </field>
                                        </page>
                                    </notebook>
                                </sheet>
                            </form>
                        </field>
                    </page>
                    <page string="Services" invisible="not service_ids">
                        <field name="service_ids" readonly="stage_id == 3">
                            <kanban>
                                <field name="service_scope_id"/>
                                <field name="routing_types"/>
                                <field name="opt_payble_ids"/>
                                <field name="curency_text1"/>
                                <field name="curency_textsale"/>
                                <templates>
                                    <t t-name="kanban-box">
                                        <div t-attf-class="oe_kanban_global_click">
                                            <table>
                                                <tr>
                                                    <td>
                                                        <strong>Service:</strong>
                                                    </td>
                                                    <td width="45%">
                                                        <field name="service_scope_id"/>
                                                    </td>
                                                    <td>
                                                        <strong>Route:</strong>
                                                    </td>
                                                    <td>
                                                        <field name="routing_types"/>
                                                    </td>
                                                </tr>
                                            </table>
                                            <table>
                                                <tr>
                                                    <td colspan="2" width="60%">
                                                        Total Currency for cost
                                                    </td>
                                                    <td colspan="2" style="white-space: nowrap;">
                                                        Total Currency for sale
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td colspan="2">
                                                        <field name="curency_text1"/>
                                                    </td>
                                                    <td colspan="2">
                                                        <field name="curency_textsale"/>
                                                    </td>
                                                </tr>
                                            </table>
                                        </div>
                                    </t>
                                </templates>
                            </kanban>
                            <form>
                                <sheet>
                                    <group>
                                        <div>
                                            <field name="service_scope_id"/>
                                            <field name="routing_types"/>
                                            <field name="route_id"
                                                   invisible="clearence_type_id not in [2,5,6,3] or service_scope_id not in [3]"/>
                                            <field name="port_id"
                                                   invisible="service_scope_id not in [7] and not route_id"/>
                                            <field name="port_id_origin"
                                                   invisible="service_scope_id not in [7] and not route_id"/>
                                            <field name="pickup_address"
                                                   invisible="service_scope_id not in [7] and not route_id"/>
                                            <field name="port_id_destination"
                                                   invisible="service_scope_id not in [7] and not dest_route_id"/>
                                            <field name="pickup_address2"
                                                   invisible="service_scope_id not in [7] and not dest_route_id"/>
                                            <field name="trasit_route_id" invisible="not trasit_route_id"/>
                                            <field name="pol" invisible="service_scope_id in [1,6,7.3]"/>
                                            <field name="pod" invisible="service_scope_id in [1,6,7.3]"/>
                                            <field name="dest_route_id"
                                                   invisible="clearence_type_id not in [1,5,4] or service_scope_id not in [3]"/>
                                            <field name="final_port"
                                                   invisible="clearence_type_id not in [4] or service_scope_id not in [3]"/>
                                            <field name="clearence_type_id"/>
                                            <field name="port_id" invisible="service_scope_id not in [3]"/>
                                        </div>
                                        <group invisible="service_scope_id not in [3]">
                                            <field name="curency_text1" type="html" invisible="1"/>
                                            <field name="curency_textsale" type="html" invisible="1"/>
                                            <field name="exporter" widget="many2many_tags"
                                                   invisible="clearence_type_id not in [2,5,6,3] or service_scope_id not in [3]"/>
                                            <field name="importer" widget="many2many_tags"
                                                   invisible="clearence_type_id not in [1,5,4] or service_scope_id not in [3]"/>
                                            <field name="export_customer_no"
                                                   invisible="clearence_type_id not in [2,5,6,3] or service_scope_id not in [3]"/>
                                            <field name="import_custom_no"
                                                   invisible="clearence_type_id not in [1,5,4] or service_scope_id not in [3]"/>
                                            <field name="customer_clerance" widget="many2many_tags"/>
                                            <field name="booking_no"
                                                   invisible="clearence_type_id not in [2,5,6,3] or service_scope_id not in [3]"/>
                                        </group>
                                    </group>
                                    <group invisible="service_scope_id not in [3]">
                                        <group>
                                            <field name="b_l_number"
                                                   invisible="clearence_type_id not in [1,5,4] or service_scope_id not in [3]"/>
                                            <field name="acid"
                                                   invisible="clearence_type_id not in [1,5,4] or service_scope_id not in [3]"/>
                                            <field name="acid_date"
                                                   invisible="clearence_type_id not in [1,5,4] or service_scope_id not in [3]"/>
                                            <field name="acid_expiry"
                                                   invisible="clearence_type_id not in [1,5,4] or service_scope_id not in [3]"/>
                                        </group>
                                        <group>
                                            <field name="thc"
                                                   invisible="clearence_type_id not in [1,5] or service_scope_id not in [3] or clearence_type_id in [4]"/>
                                            <field name="frieght_cost"
                                                   invisible="clearence_type_id not in [1,5] or service_scope_id not in [3] or clearence_type_id in [4]"/>
                                            <field name="insurance_cost"
                                                   invisible="clearence_type_id not in [1,5] or service_scope_id not in [3] or clearence_type_id in [4]"/>
                                        </group>

                                    </group>
                                    <group invisible="service_scope_id not in [3]">
                                        <group>
                                            <field name="import_certi_no"
                                                   invisible="clearence_type_id not in [3] or service_scope_id not in [3]"/>
                                            <field name="customs_cert_no"/>
                                            <field name="incoterm_id"/>
                                            <field name="currency_id" invisible="clearence_type_id in [4]"/>
                                        </group>
                                        <group>
                                            <field name="import_certi_date"
                                                   invisible="clearence_type_id not in [3] or service_scope_id in [3]"/>
                                            <field name="certficate_date"/>
                                            <field name="invoice_value"/>
                                            <field name="terminal"/>
                                            <field name="shipment_scope_id" invisible="1"/>
                                        </group>
                                    </group>
                                    <group invisible="service_scope_id in [1,6,7.3]">
                                        <group>
                                            <field name="customer" widget="many2many_tags"/>
                                        </group>
                                        <group>
                                            <field name="vendor" widget="many2many_tags"/>
                                        </group>
                                    </group>
                                    <group invisible="service_scope_id not in [1,6,7]">
                                        <group>
                                            <field name="customer" widget="many2many_tags"/>
                                            <field name="booking_no"/>
                                            <field name="incoterm_id"/>
                                            <field name="terminal"/>
                                        </group>
                                        <group>
                                            <field name="vendor" widget="many2many_tags"/>
                                            <field name="bill_of_leading"/>
                                            <field name="bill_of_leading_date"/>
                                        </group>
                                    </group>
                                    <notebook>
                                        <page string="Documents" invisible="service_scope_id in [1,6,7]">
                                            <field name="document_type_ids">
                                                <tree editable="bottom">
                                                    <field name="document_type_id"/>
                                                    <field name="document_no"/>
                                                    <field name="description"/>
                                                    <field name="rec_date"/>
                                                    <field name="attachment_id" widget="many2many_binary"/>
                                                </tree>
                                            </field>

                                        </page>
                                        <page string="Commodity" invisible="service_scope_id in [1,6.7]">
                                            <field name="commodity_data_ids">
                                                <kanban>
                                                    <field name="commodity_data_id"/>
                                                    <field name="code"/>
                                                    <field name="tax"/>
                                                    <field name="vat"/>
                                                    <field name="type"/>
                                                    <field name="acid"/>
                                                    <templates>
                                                        <t t-name="kanban-box">
                                                            <div t-attf-class="oe_kanban_global_click">
                                                                <table>
                                                                    <tr>
                                                                        <td>
                                                                            <strong>ACID Number:</strong>
                                                                        </td>
                                                                        <td width="25%">
                                                                            <field name="acid"/>
                                                                        </td>
                                                                        <td>
                                                                            <strong>Commodity name:</strong>
                                                                        </td>
                                                                        <td width="25%">
                                                                            <field name="commodity_data_id"/>
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td>
                                                                            <strong>HS Code:</strong>
                                                                        </td>
                                                                        <td>
                                                                            <field name="code"/>
                                                                        </td>
                                                                        <td>
                                                                            <strong>Import Tax:</strong>
                                                                        </td>
                                                                        <td>
                                                                            <field name="tax"/>
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td>
                                                                            <strong>VAT:</strong>
                                                                        </td>
                                                                        <td>
                                                                            <field name="vat"/>
                                                                        </td>
                                                                        <td>
                                                                            <strong>Commodity Equip :</strong>
                                                                        </td>
                                                                        <td>
                                                                            <field name="type"/>
                                                                        </td>
                                                                    </tr>
                                                                </table>
                                                            </div>
                                                        </t>
                                                    </templates>
                                                </kanban>
                                                <form>
                                                    <sheet>
                                                        <group>
                                                            <group>
                                                                <field name="commodity_data_id"/>
                                                                <field name="code"/>
                                                                <field name="tax"/>
                                                                <field name="export_approval"
                                                                       invisible="clearence_type_id not in [2,5,6] or service_scope_id not in [3] or not export_approval"
                                                                       widget="many2many_tags"/>
                                                                <field name="import_approval" widget="many2many_tags"
                                                                       invisible="clearence_type_id not in [1,5] or service_scope_id not in [3] or not import_approval"/>
                                                                <field name="commo_data_valus" invisible="1"/>
                                                                <field name="service_scope_id" invisible="1"/>
                                                                <field name="clearence_type_id" invisible="1"/>
                                                                <field name="acid" invisible="1"/>
                                                            </group>
                                                            <group>
                                                                <field name="vat"/>
                                                                <field name="type"/>
                                                                <field name="tag_ids"/>
                                                                <field name="export_custom"
                                                                       invisible="clearence_type_id not in [2,5,6] or service_scope_id not in [3] or not export_custom"
                                                                       widget="many2many_tags"/>
                                                                <field name="import_approval" widget="many2many_tags"
                                                                       invisible="clearence_type_id not in [1,5] or service_scope_id not in [3] or not import_approval"/>
                                                            </group>
                                                        </group>
                                                    </sheet>
                                                </form>

                                            </field>
                                            <group>
                                                <group>
                                                    <button name="create_new_coomodity" type="object"
                                                            string="Create New Commodity"
                                                            class="btn-primary"/>
                                                </group>
                                            </group>
                                        </page>
                                        <page string="Clearance Stages" invisible="service_scope_id in [1,6,7]">
                                            <field name="stages_ids">
                                                <tree editable="bottom">
                                                    <field name="stage_id"/>
                                                    <field name="start_date"/>
                                                    <field name="end_date"/>
                                                    <field name="description"/>
                                                </tree>
                                            </field>
                                        </page>
                                        <page string="Payable">
                                            <field name="opt_payble_ids">
                                                <tree editable="bottom">
                                                    <field name="vendor_name"/>
                                                    <field name="product_id"/>
                                                    <field name="qty"/>
                                                    <field name="type_1"
                                                           column_invisible="parent.shipment_scope_id != 1"/>
                                                    <field name="type_2"
                                                           column_invisible="parent.shipment_scope_id != 2"/>
                                                    <field name="cost_price"/>
                                                    <field name="tax_id"/>
                                                    <field name="currency"/>
                                                    <field name="total"/>
                                                </tree>
                                            </field>
                                        </page>
                                        <page string="Receivable">
                                            <field name="opt_reciveble_ids">
                                                <tree editable="bottom">
                                                    <field name="vendor_name"/>
                                                    <field name="product_id"/>
                                                    <field name="qty"/>
                                                    <field name="type_1"
                                                           column_invisible="parent.shipment_scope_id != 1"/>
                                                    <field name="type_2"
                                                           column_invisible="parent.shipment_scope_id != 2"/>
                                                    <field name="sell_price"/>
                                                    <field name="tax_id"/>
                                                    <field name="currency"/>
                                                    <field name="total"/>
                                                </tree>
                                            </field>
                                        </page>
                                        <page string="Freight Stages" invisible="service_scope_id not in [1,6,7]">
                                            <field name="service_stage_id">
                                                <tree editable="bottom">
                                                    <field name="stage_id"/>
                                                    <field name="start_date"/>
                                                    <field name="end_date"/>
                                                    <field name="description"/>
                                                </tree>
                                            </field>
                                        </page>

                                    </notebook>
                                </sheet>
                            </form>
                        </field>
                    </page>
                    <page string="Charges">
                        <table>
                            <tr>
                                <td>
                                    <button string="Create Invoice" type="object"
                                            name="action_open_create_customer_invoice_wizard"
                                            class="btn-primary" invisible="not project_task_charge_ids"/>
                                </td>
                                <td>
                                    <button string="Create Bill" type="object" name="action_open_create_vendor_bill_wizard"
                                            class="btn-primary" invisible="not project_task_charge_ids"/>
                                </td>
                            </tr>
                        </table>

                        <field name="project_task_charge_ids" readonly="stage_id == 3">
                            <tree editable="bottom">
                                <field name="is_selected" string=""/>
                                <field name="invoice_id" column_invisible="1"/>
                                <field name="vendor_bill_id" column_invisible="1"/>
                                <field name="product_id" readonly="invoice_id or vendor_bill_id"
                                       options="{'no_open': True,'no_create': True, 'no_create_edit': True, 'no_quick_create': True}"/>
                                <field name="qty" readonly="invoice_id or vendor_bill_id"/>
                                <field name="package_type_id"
                                       column_invisible="not parent.show_packages"
                                       readonly="invoice_id or vendor_bill_id"
                                       options="{'no_open': True,'no_create': True, 'no_create_edit': True, 'no_quick_create': True}"
                                       optional="false"/>
                                <field name="container_type_id"
                                       column_invisible="not parent.show_containers"
                                       readonly="invoice_id or vendor_bill_id"
                                       options="{'no_open': True,'no_create': True, 'no_create_edit': True, 'no_quick_create': True}"
                                       optional="false"/>
                                <field name="cost_price" widget="float" optional="show" readonly="vendor_bill_id"/>
                                <field name="sale_price" widget="float" readonly="invoice_id"/>
                                <field name="currency_id" readonly="invoice_id or vendor_bill_id"
                                       options="{'no_open': True,'no_create': True, 'no_create_edit': True, 'no_quick_create': True}"/>
                                <field name="ex_rate"/>
                                <field name="cost_main_curr" optional="false"/>
                                <field name="cost_usd" optional="false"/>
                                <field name="sale_main_curr" optional="false"/>
                                <field name="sale_usd"/>
                                <field name="company_id" column_invisible="1"/>
                            </tree>
                        </field>
                        <div class="row">
                            <div name="total_cost_line_ids" class="col">
                                <label for="total_cost_line_ids">Cost Per Currency</label>
                                <field name="total_cost_line_ids" nolabel="1">
                                    <tree edit="0" delete="0" create="0" no_open="True">
                                        <field name="currency_id"/>
                                        <field name="amount"/>
                                    </tree>
                                </field>
                            </div>
                            <div name="total_sale_line_ids" class="col">
                                <label for="total_sale_line_ids">Sales Per Currency</label>
                                <field name="total_sale_line_ids" nolabel="1">
                                    <tree edit="0" delete="0" create="0" no_open="True">
                                        <field name="currency_id"/>
                                        <field name="amount"/>
                                    </tree>
                                </field>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col"></div>
                            <div class="col" style="text-align:right">
                                <field name="currency_id" invisible="1"/>
                                Total Sale in USD
                                <field name="total_sale_in_usd"/>
                                <br/>
                                Total Cost in USD
                                <field name="total_cost_in_usd"/>
                                <br/>
                                Expected Revenue
                                <field name="expected_revenue"/>
                            </div>
                        </div>

                    </page>
                </xpath>

            </field>
        </record>
        <record id="task_sequence" model="ir.sequence">
            <field name="name">Task</field>
            <field name="code">project.task</field>
            <field name="active">TRUE</field>
            <field name="prefix">X</field>
            <field name="padding">4</field>
            <field name="number_next">1</field>
            <field name="number_increment">1</field>
        </record>
        <record id="house_bl_sequence" model="ir.sequence">
            <field name="name">House B/L</field>
            <field name="code">house.bl.seq</field>
            <field name="active">TRUE</field>
            <field name="prefix">/%(year)s/HBL</field>
            <field name="padding">4</field>
            <field name="number_next">1</field>
            <field name="number_increment">1</field>
            <field name="use_date_range">TRUE</field>
        </record>
        <record id="consolidation_sequence" model="ir.sequence">
            <field name="name">Consolidation</field>
            <field name="code">consolidation.seq</field>
            <field name="active">TRUE</field>
            <field name="prefix">CNS</field>
            <field name="padding">4</field>
            <field name="number_next">1</field>
            <field name="number_increment">1</field>
            <field name="use_date_range">TRUE</field>
        </record>


<!--        <record id="view_task_kanban_inherit_all_task_inherited" model="ir.ui.view">-->
<!--            <field name="name">view.task.kanban.inherit.all.task.inherited</field>-->
<!--            <field name="model">project.task</field>-->
<!--            <field name="inherit_id" ref="project.view_task_kanban_inherit_all_task"/>-->
<!--            <field name="arch" type="xml">-->
<!--                <xpath expr="//kanban[1]" position="attributes">-->
<!--                    <attribute name="create">false</attribute>-->
<!--                </xpath>-->
<!--                <xpath expr="//kanban" position="attributes">-->
<!--                    <attribute name="records_draggable">False</attribute>-->
<!--                    <attribute name="groups_draggable">False</attribute>-->
<!--                    <attribute name="default_group_by"/>-->
<!--                </xpath>-->
<!--                <xpath expr="//div[@class='oe_kanban_bottom_right']/field[@name='state']" position="replace">-->
<!--                    <field name="state_selectable" widget="badge" decoration-success="stage_id == 1"-->
<!--                           decoration-info="stage_id == 2" decoration-warning="stage_id == 4"-->
<!--                           decoration-muted="stage_id == 3"/>-->
<!--                </xpath>-->
<!--            </field>-->
<!--        </record>-->

        <record id="inherit_open_view_all_tasks_list_view" model="ir.ui.view">
            <field name="name">"inherit.open.view.all.tasks.list.view</field>
            <field name="model">project.task</field>
            <field name="inherit_id" ref="project.open_view_all_tasks_list_view"/>
            <field name="arch" type="xml">
                <xpath expr="//tree[1]" position="attributes">
                    <attribute name="create">false</attribute>
                </xpath>

                <xpath expr="//tree[1]/field[@name='name']" position="attributes">
                    <attribute name="string">Operation ID</attribute>
                </xpath>
                <xpath expr="//tree[1]/field[@name='state']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
                <xpath expr="//field[@name='project_id']" position="attributes">
                    <attribute name="string">Customer</attribute>
                </xpath>
                <xpath expr="//field[@name='partner_id']" position="replace">
                </xpath>
                <xpath expr="//field[@name='my_activity_date_deadline']" position="replace">
                </xpath>
                <xpath expr="//field[@name='personal_stage_type_id']" position="replace">
                </xpath>
                <xpath expr="//field[@name='user_ids']" position="attributes">
                    <attribute name="string">Executors</attribute>
                </xpath>

                <xpath expr="//field[@name='tag_ids']" position="attributes">
                    <attribute name="column_invisible">True</attribute>
                </xpath>
                <xpath expr="//field[@name='date_deadline']" position="attributes">
                    <attribute name="string">Planned Date</attribute>
                </xpath>

                <xpath expr="//field[@name='project_id']" position="after">
                    <field name="transport_type_id" optional="show" string="Type"/>
                    <field name="master_bl" optional="show"/>
                    <field name="port_id" optional="show"/>
                    <field name="port_id_pod" optional="show"/>
                    <field name="vessel_id" optional="hide"/>
                    <field name="clearence_type_id" optional="hide"/>
                    <field name="services" widget="many2many_tags" optional="hide"/>
                </xpath>

                <xpath expr="//field[@name='stage_id']" position="attributes">
                    <attribute name="widget">badge</attribute>
                    <attribute name="decoration-success">stage_id == 1</attribute>
                    <attribute name="decoration-info">stage_id == 2</attribute>
                    <attribute name="decoration-warning">stage_id == 4</attribute>
                    <attribute name="decoration-muted">stage_id == 3</attribute>
                </xpath>
            </field>
        </record>

        <record id="operation_inherit_view_task_kanban" model="ir.ui.view">
            <field name="name">operation.project.task.kanban</field>
            <field name="model">project.task</field>
            <field name="arch" type="xml">
                <kanban
                        class="o_kanban_small_column o_kanban_project_tasks"
                        quick_create_view="project.quick_create_task_form"
                        records_draggable="false"
                        groups_draggable="false"
                        examples="project"
                        js_class="project_task_kanban" sample="1"
                        default_order="priority desc, sequence, state, date_deadline asc, id desc"
                >
                    <field name="color"/>
                    <field name="priority"/>
                    <field name="stage_id" options='{"group_by_tooltip": {"description": "Description"}}'/>
                    <field name="user_ids"/>
                    <field name="partner_id"/>
                    <field name="sequence"/>
                    <field name="displayed_image_id"/>
                    <field name="active"/>
                    <field name="activity_ids"/>
                    <field name="activity_state"/>
                    <field name="rating_count"/>
                    <field name="rating_avg"/>
                    <field name="rating_active"/>
                    <field name="has_late_and_unreached_milestone"/>
                    <field name="allow_milestones"/>
                    <field name="state"/>
                    <field name="company_id"/>
                    <field name="recurrence_id"/>
                    <field name="subtask_count"/>
                    <field name="closed_subtask_count"/>
                    <field name="subtask_count"/>
                    <progressbar field="state"
                                 colors='{"1_done": "success-done", "1_canceled": "danger", "03_approved": "success", "02_changes_requested": "warning", "04_waiting_normal": "info", "01_in_progress": "200" }'/>
                    <templates>
                        <t t-name="kanban-menu" t-if="!selection_mode" groups="base.group_user">
                            <a t-if="widget.editable" role="menuitem" type="set_cover" class="dropdown-item"
                               data-field="displayed_image_id">Set Cover Image
                            </a>
                            <a name="%(portal.portal_share_action)d" role="menuitem" type="action" class="dropdown-item"
                               context="{'dialog_size': 'medium'}">Share
                            </a>
                            <div role="separator" class="dropdown-divider"></div>
                            <ul class="oe_kanban_colorpicker" data-field="color"/>
                        </t>
                        <t t-name="kanban-box">
                            <div t-attf-class="{{!selection_mode ? 'oe_kanban_color_' + kanban_getcolor(record.color.raw_value) : ''}} oe_kanban_card oe_kanban_global_click">
                                <div class="oe_kanban_content">
                                    <div class="o_kanban_record_top"
                                         t-att-class="['1_done', '1_canceled'].includes(record.state.raw_value) ? 'opacity-50' : ''">
                                        <div class="o_kanban_record_headings text-muted">
                                            <strong class="o_kanban_record_title">
                                                <s t-if="!record.active.raw_value">
                                                    <field name="name"/>
                                                </s>
                                                <t t-else="">
                                                    <field name="name"/>
                                                </t>
                                            </strong>
                                            <span t-if="record.parent_id.raw_value"
                                                  invisible="context.get('default_parent_id', False)"
                                                  style="display: block; margin-top: 4px;">
                                                <field name="parent_id"/>
                                            </span>
                                            <span style="display: block; margin-top: 4px;">
                                                <field name="project_id" options="{'no_open': True}"/>
                                            </span>
                                            <span style="display: block; margin-top: 4px;">
                                                <field name="transport_type_id" optional="show" string="Type"/>
                                            </span>
                                            <span style="display: block; margin-top: 4px;">
                                                <field name="clearence_type_id" display="full"/>
                                            </span>
                                            <span style="display: block; margin-top: 4px;">
                                                <field name="port_id" display="full"/>
                                            </span>
                                            <span style="display: block; margin-top: 4px;">
                                                <field name="port_id_pod" display="full"/>
                                            </span>
                                            <span t-if="record.partner_id.value" invisible="1"
                                                  style="display: block; margin-top: 4px;">
                                                <field name="partner_id"/>
                                            </span>
                                            <span t-if="record.allow_milestones.raw_value and record.milestone_id.raw_value"
                                                  t-att-class="record.has_late_and_unreached_milestone.raw_value and !record.state.raw_value.startsWith('1_') ? 'text-danger' : ''"
                                                  style="display: block; margin-top: 4px;">
                                                <field name="milestone_id" options="{'no_open': True}"/>
                                            </span>
                                        </div>
                                    </div>
                                    <div class="o_kanban_record_body"
                                         t-att-class="['1_done', '1_canceled'].includes(record.state.raw_value) ? 'opacity-50' : 'text-muted'">
                                        <div t-if="record.date_deadline.raw_value" name="date_deadline"
                                             invisible="state in ['1_done', '1_canceled']">
                                            <field name="date_deadline" widget="remaining_days"/>
                                        </div>
                                        <field name="task_properties" widget="properties"/>
                                        <div t-if="record.displayed_image_id.value">
                                            <field name="displayed_image_id" widget="attachment_image"/>
                                        </div>
                                    </div>
                                    <div class="o_kanban_record_bottom" t-if="!selection_mode">
                                        <div class="oe_kanban_bottom_left"
                                             t-att-class="['1_done', '1_canceled'].includes(record.state.raw_value) ? 'opacity-50' : ''">
                                            <field name="priority" widget="priority" style="margin-right: 5px;"/>
                                            <field name="activity_ids" widget="kanban_activity"
                                                   style="padding-top: 1.5px; margin-right: 2px"/>
                                            <b t-if="record.rating_active.raw_value and record.rating_count.raw_value &gt; 0"
                                               groups="project.group_project_rating">
                                                <span class="fa fa-fw fa-smile-o text-success rating_face"
                                                      t-if="record.rating_avg.raw_value &gt;= 3.66"
                                                      title="Average Rating: Satisfied" role="img"
                                                      aria-label="Happy face"/>
                                                <span class="fa fa-fw fa-meh-o text-warning rating_face"
                                                      t-elif="record.rating_avg.raw_value &gt;= 2.33"
                                                      title="Average Rating: Okay" role="img"
                                                      aria-label="Neutral face"/>
                                                <span class="fa fa-fw fa-frown-o text-danger rating_face" t-else=""
                                                      title="Average Rating: Dissatisfied" role="img"
                                                      aria-label="Sad face"/>
                                            </b>
                                            <a t-if="!record.project_id.raw_value" class="text-muted"
                                               style="font-size: 17px; padding-top: 1.5px; margin-left: 1.5px">
                                                <i title="Private Task" class="fa fa-lock"/>
                                            </a>
                                            <t t-if="record.project_id.raw_value and record.subtask_count.raw_value">
                                                <a t-if="record.project_id.raw_value and record.subtask_count.raw_value and record.subtask_count.value &gt; record.closed_subtask_count.value"
                                                   t-attf-title="{{ record.closed_subtask_count.value }} sub-tasks closed out of {{ record.subtask_count.value }}"
                                                   class="subtask_list_button btn-link text-dark"
                                                   role="button">
                                                    <span class="fa fa-check-square-o me-1"/>
                                                    <t t-out="record.closed_subtask_count.value + '/' + record.subtask_count.value"/>
                                                </a>
                                                <div t-else=""
                                                     t-attf-title="{{ record.closed_subtask_count.value }} sub-tasks closed out of {{ record.subtask_count.value }}"
                                                     class="text-muted">
                                                    <span class="fa fa-check-square-o me-1"/>
                                                    <t t-out="record.closed_subtask_count.value + '/' + record.subtask_count.value"/>
                                                </div>
                                            </t>
                                        </div>
                                        <div class="oe_kanban_bottom_right" t-if="!selection_mode">
                                            <div t-att-class="['1_done', '1_canceled'].includes(record.state.raw_value) ? 'opacity-50' : ''">
                                                <field name="user_ids" widget="many2many_avatar_user"/>
                                            </div>
                                            <field name="state_selectable" widget="badge"
                                                   decoration-success="stage_id == 1"
                                                   decoration-info="stage_id == 2" decoration-warning="stage_id == 4"
                                                   decoration-muted="stage_id == 3"/>
                                        </div>
                                    </div>
                                    <t t-if="record.project_id.raw_value and record.subtask_count.raw_value and record.subtask_count.raw_value &gt; record.closed_subtask_count.raw_value">
                                        <div class="kanban_bottom_subtasks_section"/>
                                    </t>
                                </div>
                                <div class="clearfix"></div>
                            </div>
                        </t>
                    </templates>
                </kanban>
            </field>
        </record>


        <record id="inherit_view_task_search_form" model="ir.ui.view">
            <field name="name">"inherit.view.task.search.form</field>
            <field name="model">project.task</field>
            <field name="inherit_id" ref="project.view_task_search_form"/>
            <field name="arch" type="xml">
                <xpath expr="//filter[@name='my_tasks']" position="attributes">
                    <attribute name="string">My Operations</attribute>
                </xpath>
                <xpath expr="//filter[@name='starred_tasks']" position="attributes">
                    <attribute name="string">Starred Operations</attribute>
                </xpath>
                <xpath expr="//filter[@name='open_tasks']" position="attributes">
                    <attribute name="string">Open Operations</attribute>
                </xpath>
                <xpath expr="//filter[@name='closed_tasks']" position="attributes">
                    <attribute name="string">Closed Operations</attribute>
                </xpath>

                <xpath expr="//filter[@name='date_deadline']" position="replace"/>
                <xpath expr="//filter[@name='favorite_projects']" position="replace"/>
                <xpath expr="//filter[@name='private_tasks']" position="replace"/>
                <xpath expr="//field[@name='task_properties']" position="after">
                    <filter domain="[('transport_type_id', '=', 2)]" name="transport_type_id" string="Sea"/>
                    <filter domain="[('transport_type_id', '=', 1)]" name="transport_type_id" string="Air"/>
                    <filter domain="[('transport_type_id', '=', 3)]" name="transport_type_id" string="Inland"/>
                </xpath>

                <xpath expr="//filter[@name='deadline']" position="replace"/>
                <xpath expr="//filter[@name='project']" position="replace"/>
                <xpath expr="//filter[@name='user']" position="attributes">
                    <attribute name="string">Executors</attribute>
                </xpath>

                <xpath expr="//filter[@name='user']" position="after">
                    <filter name="studio_group_by_9t_1hvig3l5h" string="Transport Type"
                            context="{'group_by': 'transport_type_id'}"/>
                    <filter name="studio_group_by_2oj_1hvig430f" string="Direction"
                            context="{'group_by': 'clearence_type_id'}"/>
                    <filter name="studio_group_by_34l_1hvig52f3" string="Shipment Scope"
                            context="{'group_by': 'shipment_scope_id'}"/>
                </xpath>

                <xpath expr="//search[1]/field[@name='name']" position="after">
                    <field name="port_id"/>
                    <field name="port_id_pod"/>
                    <field name="master_bl"/>
                    <field name="commodity_id"/>
                    <field name="shipping_container_ids" string="Container Number"/>
                </xpath>
            </field>
        </record>

        <!-- Update the Action View Mode for Projects -->
        <record id="project.open_view_project_all" model="ir.actions.act_window">
            <field name="name">Profiles</field>
            <field name="view_mode">tree,kanban,form</field>
            <field name="view_id" ref="project.view_project"/>
        </record>

        <record id="account.menu_finance" model="ir.ui.menu">
            <field name="groups_id"
                   eval="[(6, 0, [ref('account.group_account_manager'), ref('account.group_account_user')])]"/>
        </record>

        <record id="project.menu_main_pm" model="ir.ui.menu">
            <field name="web_icon">eit_freight_operation,static/description/icon.png</field>
            <field name="name">Operation</field>
        </record>

        <record id="project.menu_project_management_all_tasks" model="ir.ui.menu">
            <field name="name">Operations</field>
            <field name="parent_id" ref="project.menu_main_pm"/> <!-- Update parent menu -->
            <field name="action" ref="project.action_view_all_task"/> <!-- Update action -->
            <field name="sequence">1</field> <!-- Update sequence -->
        </record>

        <delete model="ir.actions.act_window.view" id="project.open_view_all_task_list_kanban"/>

        <record id="operation_open_view_all_task_list_tree" model="ir.actions.act_window.view">
            <field name="sequence" eval="20"/>
            <field name="view_mode">kanban</field>
            <field name="act_window_id" ref="project.action_view_all_task"/>
            <field name="view_id" ref="operation_inherit_view_task_kanban"/>
        </record>

        <record id="menu_main_customer_profiles" model="ir.ui.menu">
            <field name="name">Profiles</field>
            <field name="parent_id" ref="project.menu_projects"/>
            <field name="sequence">3</field>
        </record>

        <record id="project.menu_projects" model="ir.ui.menu">
            <field name="name">Customers</field>
            <field name="sequence">2</field>
        </record>

        <record id="menu_customer_profiles" model="ir.ui.menu">
            <field name="name">Customer Profiles</field>
            <field name="action" ref="project.open_view_project_all"/>
            <field name="parent_id" ref="project.menu_projects"/>
            <field name="sequence">1</field>
        </record>

        <record id="menu_freight_customer_invoices" model="ir.ui.menu">
            <field name="name">Freight Invoices</field>
            <field name="action" ref="action_freight_move_out_invoice_type"/>
            <field name="parent_id" ref="project.menu_projects"/>
            <field name="sequence">2</field>
        </record>

        <record id="menu_freight_customer_bills" model="ir.ui.menu">
            <field name="name">Freight Bills</field>
            <field name="action" ref="action_freight_move_in_invoice_type"/>
            <field name="parent_id" ref="project.menu_projects"/>
            <field name="sequence">3</field>
        </record>

        <record id="project.menu_project_report_task_analysis" model="ir.ui.menu">
            <field name="name">Operations Analysis</field>
        </record>

        <record id="project.menu_project_config_project" model="ir.ui.menu">
            <field name="name">Operations Stages</field>
        </record>

        <record id="project.menu_project_management" model="ir.ui.menu">
            <field name="active">False</field>
        </record>
        <record id="project.act_project_project_2_project_task_all" model="ir.actions.act_window">
            <field name="name">Operations</field>
            <field name="help" type="html">
                <p class="o_view_nocontent_smiling_face">
                    No Operations found. Let's create one!
                </p>
                <p>
                    Keep track of the progress of your Operations from creation to completion.
                    <br/>
                    Collaborate efficiently by chatting in real-time or via email.
                </p>
            </field>
        </record>
        <record id="project.action_view_all_task" model="ir.actions.act_window">
            <field name="name">Operations</field>
            <field name="view_mode">kanban,tree,form,gantt,calendar,pivot,graph,activity</field>
            <field name="domain">[('project_id', '!=', False)]</field>
            <field name="help" type="html">
                <p class="o_view_nocontent_smiling_face">
                    No Operations found. Let's create one!
                </p>
                <p>
                    Organize your oeprations by dispatching them across the pipeline.
                    <br/>
                    Collaborate efficiently by chatting in real-time or via email.
                </p>
            </field>
        </record>

        <!-- Inactive Projects Menu under configuration -->
        <data>
            <function model="ir.ui.menu" name="write">
                <value eval="[ref('project.menu_projects_config')]"/>
                <value eval="{'active': False}"/>
            </function>

        </data>

        <record id="project.menu_projects_config_group_stage" model="ir.ui.menu">
            <field name="active">False</field>
        </record>
    </data>

</odoo>